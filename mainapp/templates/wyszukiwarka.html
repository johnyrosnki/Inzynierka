<!-- Wyszukiwarka -->
<div>
    <label for="searchInput">Wyszukaj:</label>
    <input type="text" id="searchInput" placeholder="Tytuł książki lub imię i nazwisko autora">
    <ul id="searchResults"></ul>
</div>


<script>
$(document).ready(function() {
    $("#searchInput").on("input", function() {
        var query = $(this).val();
        if (query.length >= 2) {
            $.ajax({
                type: 'GET',
                url: '{% url "wyszukiwarka" %}',
                data: {'query': query},
                success: function(data) {
                    displayResults(data);
                },
                error: function(error) {
                    console.log('Wystąpił błąd:', error);
                }
            });
        } else {
            $("#searchResults").empty();
        }
    });

    function displayResults(data) {
        $("#searchResults").empty();
        data.results.forEach(function(result) {
            var listItem = $("<li>").text(result.label);
            listItem.on("click", function() {
                window.location.href = result.url;
            });
            $("#searchResults").append(listItem);
        });
    }
});
function obslugaPodpowiedzi() {
    // Twoja istniejąca funkcja obsługująca podpowiedzi

    // Dodaj obsługę zdarzenia kliknięcia na podpowiedzi
    $('#id_podpowiedzi').on('click', 'li', function() {
        var autorId = $(this).data('autor-id'); // Pobierz ID autora z atrybutu data
        var tytulId = $(this).data('tytul-id'); // Pobierz ID tytułu z atrybutu data

        // Sprawdź, czy istnieją zarówno ID autora, jak i ID tytułu
        if (autorId !== undefined && tytulId !== undefined) {
            // Przejdź do odpowiedniego widoku lub strony, np.
            var url = '/ksiazka_szczegoly/' + autorId + '/' + tytulId + '/'; // Przykład ścieżki URL
            window.location.href = url;
        }
    });
}



</script>
<script>

</script>
